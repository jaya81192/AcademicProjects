import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.util.HashMap;
import java.util.Map.Entry;


public class computeunigramsfeatures {
	
	public static void pushmap(HashMap<String,Integer> map, String s){
		if(map.get(s)==null)
			map.put(s, 1);
		else
			map.put(s, map.get(s)+1);
	}
	
	public static void main(String[] args) throws IOException {
		File folder = new File("C:\\Users\\venky\\Desktop\\Data Mining\\Opcodes");
		File[] listOfFiles = folder.listFiles();
		for (File file : listOfFiles){
			if (file.isFile()) {
				HashMap<String,Integer> map = new HashMap<String,Integer>();
				String filename=file.getName();
				FileReader inputFile = new FileReader("C:\\Users\\venky\\Desktop\\Data Mining\\Opcodes\\"+filename);
				BufferedReader bufferReader = new BufferedReader(inputFile);
				FileWriter filewriter = new FileWriter("C:\\Users\\venky\\Desktop\\Data Mining\\Unigrams\\"+filename.substring(0, filename.length()-4)+".txt");
				BufferedWriter writer = new BufferedWriter(filewriter);
				String line;
				while ((line = bufferReader.readLine()) != null)
				    	for(String unigram : line.split(","))
				    		if(unigram.length()>1)
				    			pushmap(map,unigram);
				bufferReader.close();
					System.out.println(map.size());
					for(Entry entry : map.entrySet())
						writer.append(entry.getKey()+"\t"+entry.getValue()+"\n");
					writer.close();
		        }
			}
		}
	}
