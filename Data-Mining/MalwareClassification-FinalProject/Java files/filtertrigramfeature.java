import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;


public class filtertrigramfeature {
	public static void pushmap(HashMap<String,Integer> map, String s){
		if(map.get(s)==null)
			map.put(s, 1);
		else
			map.put(s, map.get(s)+1);
	}

	public static void main(String[] args) throws IOException {
		FileReader file1 = new FileReader("C:\\Users\\venky\\Desktop\\Data Mining\\FeaturesetTrigram.csv");
		BufferedReader buff = new BufferedReader(file1);
		FileWriter writer = new FileWriter("C:\\Users\\venky\\Desktop\\Data Mining\\finaltrigrams1.txt");
		BufferedWriter bufferedwriter = new BufferedWriter(writer);
		int k=0;
		ArrayList<String> Trigrams = new ArrayList<String>();
		HashMap<String, Integer> hashbigram = new HashMap<String, Integer>(); 
		String line;
		while((line = buff.readLine()) != null)
		{
			System.out.println(k);
			String[] part= line.split(",");
			if(k==0)
			{
				for(String bigramval: part)
				Trigrams.add(bigramval);
				k++;
			}
			else
			{
				for(int i=0;i<part.length;i++)
					if(i!=0 && !part[i].equals("0"))
						pushmap(hashbigram, Trigrams.get(i));
				k++;
			}
			
		}
		for(String val : hashbigram.keySet()){
			
			if(hashbigram.get(val)>500)
				bufferedwriter.append(val+"\n");
		}
	}

}
